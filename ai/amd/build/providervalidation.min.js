define("core_ai/providervalidation",["exports","core/ajax"],(function(_exports,_ajax){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getConnectionStatus=_exports.default=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};_exports.getConnectionStatus=providername=>_ajax.default.call([{methodname:"core_ai_test_connection",args:{providername:providername}}])[0];const Selectors_VALIDATE='[data-action="validate-ai-provider"]',Selectors_VALIDATE_RESULTS='[data-role="validate-ai-results"]';var _default=class{constructor(providerType){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(this,"providerType",void 0),this.providerType=providerType,window.console.log(this.providerType),this.registerEventListeners()}registerEventListeners(){const providerResultSelector=Selectors_VALIDATE_RESULTS+'[data-providertype="'+this.providerType+'"]',resultsArea=document.querySelector(providerResultSelector),validateButton=document.querySelector(Selectors_VALIDATE+'[data-providertype="'+this.providerType+'"]');window.console.log(validateButton),validateButton?(window.console.log("Adding click handler for ".concat(this.providerType)),validateButton.addEventListener("click",(async e=>{window.console.log("Clicked on provider validation "),window.console.log(this.providerType),e.preventDefault();const request={methodname:"core_ai_test_connection",args:{providertype:this.providerType}};try{const resultObj=await _ajax.default.call([request])[0];if(resultObj.error)return void window.console.log(resultObj.error);window.console.log(resultObj),resultsArea.innerHTML=resultObj.message}catch(error){window.console.log(error)}window.console.log("Test connection finished")}))):window.console.log("No validate button found for ".concat(providerResultSelector))}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=providervalidation.min.js.map